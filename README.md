<h1>Описание</h1>

<div>Представленный код является частью реализации автоматических email алертов (уведомлений), содержащих статистические отчеты по продажам авиакомпаний, как правило в табличном представлении.
В данной реализации, алерты вызываются в ряде случаев:
<ul>
<li>относительный рост продаж более чем на 30%</li>
<li>относительное падение продажболее чем на 30%</li>
<li>отсутсвие продаж</li>
</ul>
</div>

<div>Логико-математическая модель для рассматриваемой задачи (с примерами). Данные примеров могут быть не актуальными.</div>

<div><pre>Изменение (%) = ((Кол-во продаж в периоде 2)&nbsp; /&nbsp; (Кол-во продаж в периоде 1) - 1) * 100%</pre></div>

<div>Для случая, когда кол-во продаж в базисном периоде (период 1) &gt; 0:</div>

<ul>
	<li><em>Если Изменение </em><em>(</em><em>%</em><em>)&nbsp; &gt; 0 </em><em>, то наблюдается рост</em></li>
	<li><em>Если Изменение </em><em>(</em><em>%</em><em>)&nbsp; </em><em>=</em><em> 0 </em><em>, то изменений нет</em></li>
	<li><em>Если Изменение </em><em>(</em><em>%</em><em>)&nbsp; &lt; 0 </em><em>, то наблюдается падение</em></li>
</ul>

<div>Исключительным является случай,&nbsp;когда кол-во продаж в базисном периоде (период 1) = 0, в этом случае коэффициент роста не имеет смысла.</div>

<div><strong>Пример (падение продаж):</strong></div>

<table border="1" cellpadding="0" cellspacing="0">
	<thead>
		<tr>
			<th>
			<div><strong>Авиакомпания</strong></div>
			</th>
			<th>
			<div><strong>Кол-во продаж за 2019-09-06<br />
			00:00:00 - 15:59:59</strong></div>
			</th>
			<th>
			<div><strong>Кол-во продаж за 2019-09-07<br />
			00:00:00 - 15:59:59</strong></div>
			</th>
			<th>
			<div><strong>Относительное изменение кол-ва продаж (%)</strong></div>
			</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
			<div>RT</div>
			</td>
			<td>
			<div>6</div>
			</td>
			<td>
			<div>4</div>
			</td>
			<td>
			<div>-33%</div>
			</td>
		</tr>
	</tbody>
</table>

<div><pre>Изменение (%) = 4 / 6 &ndash; 1 = -0.33 , что говорит о падении продаж на 33% от продаж в предыдущем периоде.</pre></div>

<div><strong>Пример (рост продаж):</strong></div>

<table border="1" cellpadding="0" cellspacing="0">
	<thead>
		<tr>
			<th>
			<div><strong>Авиакомпания</strong></div>
			</th>
			<th>
			<div><strong>Кол-во продаж за 2019-09-06<br />
			00:00:00 - 15:59:59</strong></div>
			</th>
			<th>
			<div><strong>Кол-во продаж за 2019-09-07<br />
			00:00:00 - 15:59:59</strong></div>
			</th>
			<th>
			<div><strong>Относительное изменение кол-ва продаж (%)</strong></div>
			</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
			<div>TP</div>
			</td>
			<td>
			<div>2</div>
			</td>
			<td>
			<div>7</div>
			</td>
			<td>
			<div>250%</div>
			</td>
		</tr>
	</tbody>
</table>

<div><pre>Изменение (%) = 7 / 2 &ndash; 1 = 2.5 , что говорит о росте продаж на 250% от продаж в предыдущем периоде.</pre></div>

<div><strong>Пример (отсутствие продаж):</strong></div>

<table border="1" cellpadding="0" cellspacing="0">
	<thead>
		<tr>
			<th>
			<div><strong>Авиакомпания</strong></div>
			</th>
			<th>
			<div><strong>Кол-во продаж за 2019-09-05 00:00:00</strong></div>
			</th>
			<th>
			<div><strong>Кол-во продаж за 2019-09-07 00:00:00</strong></div>
			</th>
			<th>
			<div><strong>Относительное изменение кол-ва продаж (%)</strong></div>
			</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
			<div>CA</div>
			</td>
			<td>
			<div>8</div>
			</td>
			<td>
			<div>8</div>
			</td>
			<td>
			<div>0%</div>
			</td>
		</tr>
	</tbody>
</table>

<div><pre>Изменение (%) = 8 / 8 &ndash; 1 = 0 , что говорит об отсутствии изменений по сравнению с продажами в предыдущем периоде.</pre></div>